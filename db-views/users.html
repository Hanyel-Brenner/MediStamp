<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>
  <!--  <h1>Welcome to Xquisidor! We are a forum about all kinds of things...Wander around and take a look!</h1><br>  -->
    <h2>
        REGISTERED USERS
    </h2>
    <div id="user-list"></div>

    <script type="module">
        let resp = await fetch('http://localhost:3000/api/getUsers').then(response => response.json())  //this result is a json as specified in the backend
        var userList = document.getElementById('user-list')  //we append the <tr> element to here
        
        for(let i=0; i<10 && i < Object.keys(resp).length  ; i++)
        {
            let idData = document.createElement('div');  
            let nicknameData = document.createElement('div');
            let emailData = document.createElement('div');
            let passwordData = document.createElement('div');
            let newLine = document.createElement('div');  //sole purpose of this element is to create a newline after inserting all data
            idData.textContent = 'id : '+resp[i].id;
            nicknameData.textContent = 'nickname : '+resp[i].nickname;
            emailData.textContent = 'email : '+resp[i].email;
            passwordData.textContent = 'password : '+resp[i].password;
            newLine.textContent = '-------------------------------------------------------------------------------------'

            userList.appendChild(idData)
            userList.appendChild(nicknameData)
            userList.appendChild(emailData)
            userList.appendChild(passwordData)
            userList.appendChild(newLine)
            
        }

        /*for(let i=0; i<10 && i < Object.keys(resp).length  ; i++) //imprime quantos 
        {
        
        //if(Object.keys(resp).length == i ||  Object.keys(resp).length == 0) break;
        //else {
            var rowElement = document.createElement('tr');  //we append <td> elements to here;
            let idData = document.createElement('td');  
            let nicknameData = document.createElement('td');
            let emailData = document.createElement('td');
            let passwordData = document.createElement('td');

            idData.textContent = resp[i].id;
            nicknameData.textContent = resp[i].nickname;
            emailData.textContent = resp[i].email;
            passwordData.textContent = resp[i].password;

            rowElement.appendChild(idData)
            rowElement.appendChild(nicknameData)
            rowElement.appendChild(emailData)
            rowElement.appendChild(passwordData)
        }
            tableElement.appendChild(rowElement);
       // }*/
    </script> 
</body>
</html>


